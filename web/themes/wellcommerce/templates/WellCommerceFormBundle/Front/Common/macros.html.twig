{% macro form_begin(form, class) %}
    {% autoescape true %}
        <form
            name="{{ form.getOption('name') }}"
            class="{{ form.getOption('class') }} {{ class }}"
            action="{{ form.getOption('action') }}"
            method="{{ form.getOption('method') }}"
        >
        <input type="hidden" name="{{ form.getOption('name') }}_submitted" value="1"/>
    {% endautoescape %}
{% endmacro %}

{% macro form_end(form) %}
    {% autoescape true %}
        </form>
    {% endautoescape %}
{% endmacro %}

{% macro element(element, class) %}
    {% import _self as elements %}
    {{ attribute(elements, element.getOption('type'), [element, class]) }}
{% endmacro %}

{% macro text_field(element, class) %}
    {% set options = element.getOptions() %}
    {% set classes = ['form-control', options.class, class] %}
    {% autoescape true %}
    <div class="form-group {% if element.getError()|length %}has-error has-feedback{% endif %}">
        <label for="{{ options.name }}">{{ options.label }}</label>
        <input type="text" class="{{ classes|join(' ')|trim }}" id="{{ options.name }}" name="{{ options.name }}" value="{{ element.getValue() }}">
        {% if element.getError()|length %}
        <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
        <span>{{ element.getError()|join(' ') }}</span>
        {% endif %}
    </div>
    {% endautoescape %}
{% endmacro %}

{% macro password(element, class) %}
    {% set options = element.getOptions() %}
    {% set classes = ['form-control', options.class, class] %}
    {% autoescape true %}
    <div class="form-group {% if element.getError()|length %}has-error has-feedback{% endif %}">
        <label for="{{ options.name }}">{{ options.label }}</label>
        <input type="password" class="{{ classes|join(' ')|trim }}" id="{{ options.name }}" name="{{ options.name }}" value="{{ element.getValue() }}">
        {% if element.getError()|length %}
            <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
            <span>{{ element.getError()|join(' ') }}</span>
        {% endif %}
    </div>
    {% endautoescape %}
{% endmacro %}

{% macro button(element) %}
    {% set options = element.getOptions() %}
    {% set classes = ['btn btn-lg btn-primary btn-block', options.class, class] %}
    {% autoescape true %}

    {% endautoescape %}
{% endmacro %}

{% macro submit(element, class) %}
    {% set options = element.getOptions() %}
    {% set classes = ['btn btn-lg btn-primary btn-block', options.class, class] %}
    {% autoescape true %}
    <button value="{{ element.getValue() }}" class="{{ classes|join(' ')|trim }}" type="submit">{{ options.label }}</button>
    {% endautoescape %}
{% endmacro %}